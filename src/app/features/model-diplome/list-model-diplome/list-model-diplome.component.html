<nav class="w-full mb-4">
  <ul class="space-y-2 detached-breadcrumb">
    <li class="text-xs dark:text-slate-100/80">Tables</li>
    <li class="text-xl font-semibold text-black dark:text-slate-100">Datatables</li>
  </ul>
</nav>

<!-- Start All Card -->
<div class="flex flex-col gap-4 min-h-[calc(100vh-212px)]">
  <div class="grid grid-cols-1 gap-4">
    <div class="card">
      <h2 class="mb-4 text-base font-semibold capitalize text-slate-800 dark:text-slate-100">Data Table</h2>
      <div class="flex justify-end mb-4">
        <button class="flex items-center gap-2 px-4 py-2 rounded bg-purple text-white font-semibold shadow hover:bg-purple/90 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
          </svg>
          <span>Ajouter</span>
        </button>
      </div>
      <table class="table table-striped w-full">
        <thead>
          <tr>
            <th>Nom du modèle</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let model of getPaginatedData()">
            <td>{{ model.modelName }}</td>
            <td>
              <button class="flex items-center gap-1 px-3 py-1 rounded bg-blue-600 text-white hover:bg-blue-700 transition" (click)="openFieldsModal(model)">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5h6M9 12h6m-7 7h8" />
                </svg>
                Champs
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <!-- Modal affichant les champs du modèle -->
      <div *ngIf="showFieldsModal" class="fixed inset-0 flex items-center justify-center bg-black/40 z-50">
        <div class="bg-white rounded-2xl shadow-2xl p-8 min-w-[340px] max-w-[95vw] w-full sm:w-[420px] relative animate-fade-in">
          <button (click)="closeFieldsModal()" class="absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl font-bold focus:outline-none transition">&times;</button>
          <div class="flex flex-col items-center mb-6">
            <div class="flex items-center justify-center w-14 h-14 rounded-full bg-purple/10 mb-2">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-purple" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5h6M9 12h6m-7 7h8" />
              </svg>
            </div>
            <h3 class="text-xl font-bold text-purple mb-1">Champs du modèle</h3>
            <div class="text-gray-700 text-base font-medium">{{ selectedModel?.modelName }}</div>
          </div>
          <div class="overflow-x-auto">
            <table class="w-full border rounded-lg overflow-hidden shadow-sm">
              <thead class="bg-gray-50">
                <tr>
                  <th class="py-2 px-3 text-left text-xs font-semibold text-gray-600">Nom du champ</th>
                  <th class="py-2 px-3 text-left text-xs font-semibold text-gray-600">Type</th>
                  <th class="py-2 px-3 text-left text-xs font-semibold text-gray-600">Obligatoire</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let field of selectedModel?.fields" class="border-b last:border-b-0 hover:bg-purple/5">
                  <td class="py-2 px-3">{{ field.fieldName }}</td>
                  <td class="py-2 px-3">{{ field.fieldType }}</td>
                  <td class="py-2 px-3">
                    <span [ngClass]="field.required ? 'text-green-600 font-semibold' : 'text-gray-400'">
                      {{ field.required ? 'Oui' : 'Non' }}
                    </span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- End All Card -->