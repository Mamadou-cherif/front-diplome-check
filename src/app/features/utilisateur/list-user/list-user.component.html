<nav class="w-full mb-4">
  <ul class="space-y-2 detached-breadcrumb">
    <li class="text-xs dark:text-slate-100/80">Tables</li>
    <li class="text-xl font-semibold text-black dark:text-slate-100">Datatables</li>
  </ul>
</nav>

<!-- Start All Card -->
<div class="flex flex-col gap-4 min-h-[calc(100vh-212px)]">
  <div class="grid grid-cols-1 gap-4">
    <div class="card shadow-lg rounded-lg">
      <h2 class="mb-4 text-lg font-semibold text-gray-800 text-center">Liste des Utilisateurs</h2>
      <div class="overflow-x-auto">
        <table class="table-auto w-full border-collapse border border-gray-300 rounded-lg">
          <thead class="bg-blue-100">
            <tr>
              <th class="border border-gray-300 px-4 py-2">Nom complet</th>
              <th class="border border-gray-300 px-4 py-2">Email</th>
              <th class="border border-gray-300 px-4 py-2">Institution</th>
              <th class="border border-gray-300 px-4 py-2">Rôles</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let user of users" class="hover:bg-gray-50">
              <td class="border border-gray-300 px-4 py-2">{{ user.fullName }}</td>
              <td class="border border-gray-300 px-4 py-2">{{ user.email }}</td>
              <td class="border border-gray-300 px-4 py-2">{{ user.institution}}</td>
              <td class="border border-gray-300 px-4 py-2">{{ user.roles?.join(', ') }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="flex justify-center mt-6">
        <nav class="pagination flex items-center gap-2">
          <button class="btn btn-secondary px-4 py-2 rounded" [disabled]="page === 0" (click)="onPageChange(page - 1)">
            Précédent
          </button>
          <ul class="flex gap-2">
            <li *ngFor="let p of [].constructor(totalPages); let i = index" class="pagination-item">
              <button class="btn px-4 py-2 rounded" [ngClass]="i === page ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-800'" (click)="onPageChange(i)">
                {{ i + 1 }}
              </button>
            </li>
          </ul>
          <button class="btn btn-secondary px-4 py-2 rounded" [disabled]="page === totalPages - 1" (click)="onPageChange(page + 1)">
            Suivant
          </button>
        </nav>
      </div>
    </div>
  </div>
</div>
<!-- End All Card -->
